{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet SubscribeComponent = class SubscribeComponent {\n  constructor(service, formBuilder, router) {\n    this.service = service;\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.loading = false;\n    this.submitted = false;\n  }\n\n  ngOnInit() {\n    this.sectionScheduleId = +history.state.sectionScheduleId;\n    this.userId = +history.state.userId;\n    this.form = this.formBuilder.group({\n      date: [new Date().getDate()]\n    });\n  }\n\n  get f() {\n    return this.form.controls;\n  }\n\n  onSubmit() {\n    this.submitted = true;\n\n    if (this.form.invalid) {\n      return;\n    }\n\n    this.loading = true;\n    this.createVisitorSchedule();\n  }\n\n  createVisitorSchedule() {\n    this.service.add(this.userId, new Date(this.f.date.value), this.sectionScheduleId).subscribe(result => {\n      this.router.navigate(['section-schedule-page']);\n    });\n  }\n\n};\nSubscribeComponent = __decorate([Component({\n  selector: 'app-subscribe',\n  templateUrl: './subscribe.component.html'\n})], SubscribeComponent);\nexport { SubscribeComponent };","map":null,"metadata":{},"sourceType":"module"}